
@{
    ViewBag.Title = "UpdateLogin";
}

<h2>UpdateLogin</h2>

<form id="form1">
    <p>
        <label for="Id">Student ID to Update:</label>
        <input type="text" id="StudentId" name="StudentId" />
    </p>

    <p>
        <label for="Name">Customer Name:</label>
        <input type="text" id="StudentName" name="StudentName" />
    </p>

    <p>
        <label for="Marks">Marks:</label>
        <input type="text" id="Marks" name="Marks" />
    </p>


    <p>
        <input type="button" id="button1" value="Update" />
        <span id="ResponseSpan"></span>
    </p>

</form>
<script src="~/Scripts/jquery-3.4.1.js"></script>
<!-- jquery code -->
<script type="text/javascript">
    $(function () {

        $("#button1").click(
        function () {


                var student = { StudentId: $('#StudentId').val(), StudentName: $('#StudentName').val(), Marks: $('#Marks').val() };



            //ajax code
                $.ajax({
                    url: 'http://localhost:56795/api/Students/' + $("#StudentId").val(),
                data: JSON.stringify(student),
                    type: "put",
                    data: $('#form1').serialize(),
                    
                success: function (response) {
                    $("#ResponseSpan").html(response);
                    alert("record updated")
                },
                error: function (jqXHR, textStatus, err) {
                    $("#ResponseSpan").html(err);
                }
            });

        });

    });
</script>


